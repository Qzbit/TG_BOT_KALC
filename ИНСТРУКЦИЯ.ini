# Инструкция по развертыванию и запуску чат-бота

## 1. Подготовка окружения

### Шаг 1: Подключение к серверу
- Используйте SSH для подключения:
  ```bash
  ssh foxeyesdes@ssh-foxeyesdes.alwaysdata.net
  ```
- Введите ваш пароль.

### Шаг 2: Установка Python
- Убедитесь, что Python установлен на сервере.
- Проверьте версию:
  ```bash
  python3 --version
  ```
- Если Python не установлен, установите его через менеджер пакетов вашего хостинга (если доступно).

### Шаг 3: Установка виртуального окружения
- Создайте виртуальное окружение:
  ```bash
  python3 -m venv venv
  ```
- Активируйте виртуальное окружение:
  ```bash
  source venv/bin/activate
  ```

### Шаг 4: Установка зависимостей
- Скопируйте проект на сервер (через SCP или Git).
- Перейдите в директорию проекта:
  ```bash
  cd /home/foxeyesdes/www/my-bot.alwaysdata.net
  ```
- Установите зависимости из файла `requirements.txt`:
  ```bash
  pip install -r requirements.txt
  ```

---

## 2. Настройка базы данных

### Шаг 1: Инициализация базы данных
- Запустите файл для создания структуры базы данных:
  ```bash
  python database/models.py
  ```
- Убедитесь, что файл базы данных `bot_database.db` создан в директории проекта.

### Шаг 2: Проверка таблиц
- Используйте SQLite для проверки базы данных:
  ```bash
  sqlite3 bot_database.db
  .tables
  ```
- Убедитесь, что таблицы `users` и `referrals` присутствуют.

---

## 3. Запуск бота

### Шаг 1: Запуск через терминал
- Запустите бота вручную для проверки:
  ```bash
  python bot.py
  ```
- Убедитесь, что бот подключился к Telegram и отвечает на команды.

### Шаг 2: Фоновый запуск
- Используйте `nohup` для запуска бота в фоне:
  ```bash
  nohup python bot.py &
  ```
- Проверьте, что бот работает:
  ```bash
  ps aux | grep bot.py
  ```

---

## 4. Настройка напоминаний через планировщик

### Шаг 1: Ручная проверка напоминаний
- Убедитесь, что напоминания отправляются корректно.
- Для тестирования используйте команду `/set_reminder` в боте.

### Шаг 2: Автоматизация через cron
- Добавьте задачу в планировщик:
  ```bash
  crontab -e
  ```
- Вставьте строку для регулярного запуска напоминаний (каждую минуту):
  ```bash
  * * * * * cd /home/foxeyesdes/www/my-bot.alwaysdata.net && venv/bin/python bot.py
  ```
- Сохраните изменения и убедитесь, что задача добавлена:
  ```bash
  crontab -l
  ```

---

## 5. Полезные команды

- **Остановка бота:**
  ```bash
  pkill -f bot.py
  ```
- **Просмотр логов:**
  ```bash
  tail -f nohup.out
  ```
- **Обновление зависимостей:**
  ```bash
  pip install --upgrade -r requirements.txt
  ```

---

Если возникнут вопросы или потребуется помощь, дайте знать!


----------------------------------------------------------------------------------------------------------------

Чтобы запустить бота, выполните следующие шаги:

1. Активируйте виртуальную среду:
Если вы уже настроили виртуальную среду, активируйте её. В PowerShell выполните:

powershell
Копировать код
.\venv\Scripts\Activate
Если вы используете другую оболочку, например cmd, то команда будет:

cmd
Копировать код
venv\Scripts\activate
2. Установите зависимости:
Убедитесь, что все необходимые зависимости из requirements.txt установлены. Если вы ещё не установили их:

powershell
Копировать код
pip install -r requirements.txt
3. Запустите файл bot_and_star.py:
В корне проекта выполните команду:

powershell
Копировать код
python bot.py